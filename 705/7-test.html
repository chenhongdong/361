<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
	<title>Document</title>
	<style>
		*{margin:0;padding: 0;}
		a {text-decoration: none;}
		.infoflow-title {
		    display: block;
		    width: 100%;
		    height: 90px;
		    line-height: 90px;
		    background: #00a1f5;
		    background-size: cover;
		    text-align: center;
		    font-weight: 500;
		    font-size: 27px;
		    color: #fff;
		    box-sizing: border-box;
		    text-shadow: 0 0 1px rgba(0, 0, 0, 0.6);
		}
		.infoflow-title:visited {
		    color: #fff;
		}
		.infoflow-pos {
		    position: fixed;
		    left: 50%;
		    top: 0;
		    opacity: 0;
		    z-index: 111;
		    width: 137px;
		    height: 45px;
		    line-height: 45px;
		    background: rgba(255, 255, 255, 0.95);
		    border-radius: 0 0 3px 3px;
		    box-shadow: 0 0 2px 1px rgba(0, 0, 0, 0.3);
		    transform: translate3d(-50%, 0, 0);
		    transition: opacity .5s;
		    text-align: center;
		    color: #4a8ff8;
		    font-size: 19px;
		    text-shadow: none;
		}
		.infoflow-pos:visited {
		    color: #4a8ff8;
		}
		
	</style>
</head>
<body style="height:2000px;">
	<div id="main">
		<div id="content">One Piece</div>
	</div>
	
</body>
</html>
<script src="http://m.news.so.com/resource/js/lib/zepto.js"></script>
<script>
	// decodeURIComponent
	var _url = 'http://chd.news.m.qss.test.so.com/ns?q=%E5%8C%97%E4%BA%AC%E5%A4%A7%E6%9A%B4%E9%9B%A8&pq=%E5%86%9C%E5%A4%AB%E5%B1%B1%E6%B3%89&src=srp&_ms=0&log_id=5370304&srcg=cooper&cooper=infoflow&news_sdk_query=rainbow';

	var query = '%E5%8C%97%E4%BA%AC%E5%A4%A7%E6%9A%B4%E9%9B%A8';
	var prevQuery = '%E5%86%9C%E5%A4%AB%E5%B1%B1%E6%B3%89';

	console.log(decodeURIComponent(query));
	console.log(decodeURIComponent(prevQuery));

	

	$(document).on('scroll', function() {
		throttle(toggleInfo);
	});

	function toggleInfo() {
		let infoFlowTitle = $('#infoflow-title');
		let scrollTop = document.body.scrollTop;

		if (scrollTop >= 200) {
	        infoFlowTitle.hide().siblings().css({opacity: 1});
		} else {
	        infoFlowTitle.show().siblings().css({opacity: 0});
		}
	}

	function throttle(fn, context) {
		clearTimeout(fn.timer);
		fn.timer = setTimeout(function () {
			fn.call(context);
	    }, 200);
	}



	function insertDom(dom) {
		let html = `<section class="infoflow-box">
	    <a class="infoflow-title " id="infoflow-title" href="http://m.so.com">#一带一路#</a>
	    <a class="infoflow-pos" href="http://m.so.com">#叽里呱啦#</a>
	</section>`;

		$(dom).prepend(html);
	}

	insertDom('#main');


	// 售楼处
	salesOffice = {};
	
	salesOffice.clientList = [];
	
	salesOffice.listen = function (fn) {
		this.clientList.push(fn);
	};

	salesOffice.trigger = function () {
		for (var i = 0, fn; fn = this.clientList[i++];) {
			fn.apply(this, arguments);
		}
	};

	salesOffice.listen(function (price, meter) {
		console.log(price, meter);
	});

	salesOffice.trigger(200000, 88);

	salesOffice.trigger(300000, 100);


	var obj = {};

	var str = 'uid=bg37qhk5uvjba2y16vwfv6qj2fiwbxak&sign=wap&market=406502&stype=portal&v=1&sv=8&templetctl=7&360newsdetail=1&articlety=zmt&hsitetype=1&hscmt=1';


	/*{
		uid: 'bg37qhk5uvjba2y16vwfv6qj2fiwbxak',
		sign: 'wap',
		market: '406502'
	}*/
	obj.uid = 'bg37qhk5uvjba2y16vwfv6qj2fiwbxak',
	obj.sign = 'wap';
	obj.market = 406502

	obj = {
		a: 1,
		name: 'chen',
		age: 27
	}

	console.log($.param(obj))

	// $.extend(obj, $.param(obj));

	console.log(obj)
</script>