<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <img src="http://p1.qhimgs4.com/dmfd/216_140_/t01862a3f8c51889dce.webp?size=640x320">
    <img src="http://p1.qhimgs4.com/dmfd/216_140_/t01419f7a0d1f321b5f.jpg?size=640x545" alt="">
    <img src="http://p2.qhimgs4.com/dmfd/216_140_/t01e3592c8b778b3bab.jpg" alt="">
</body>
</html>
<script>

    (function() {
        var img = new Image();
        function getResult(event) {
            //如果进入加载且图片宽度为1(通过图片宽度值判断图片是否可以显示)
            window.isSupportWebp = event && event.type === 'load' ? img.width === 1 : false;
            console.log(window.isSupportWebp)
        }
        img.onerror = function (event) {
            getResult(event);
            console.log('error')
        };
        img.onload = function (event) {
            getResult(event);
            console.log('ok');
        };
        img.src = 'data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoBAAEAAwA0JaQAA3AA/vuUAAA='; //一像素图片
    })();

    // 亲测管用

    var isSupportWebp = !![].map && document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') === 0;
    console.log(isSupportWebp);
</script>